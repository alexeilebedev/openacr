## jkv - Internals


### Sources
<a href="#sources"></a>
<!-- dev.mdmark  mdmark:MDSECTION  state:BEG_AUTO  param:Sources -->
The source code license is GPL
The following source files are part of this tool:

|Source File|Comment|
|---|---|
|[cpp/gen/jkv_gen.cpp](/cpp/gen/jkv_gen.cpp)||
|[cpp/jkv/jkv.cpp](/cpp/jkv/jkv.cpp)||
|[include/gen/jkv_gen.h](/include/gen/jkv_gen.h)||
|[include/gen/jkv_gen.inl.h](/include/gen/jkv_gen.inl.h)||
|[include/jkv.h](/include/jkv.h)||

<!-- dev.mdmark  mdmark:MDSECTION  state:END_AUTO  param:Sources -->

### Dependencies
<a href="#dependencies"></a>
<!-- dev.mdmark  mdmark:MDSECTION  state:BEG_AUTO  param:Dependencies -->
The build target depends on the following libraries
|Target|Comment|
|---|---|
|[algo_lib](/txt/lib/algo_lib/README.md)|Support library for all executables|
|[lib_json](/txt/lib/lib_json/README.md)|Full json support library|
|[lib_prot](/txt/lib/lib_prot/README.md)|Library covering all protocols|

<!-- dev.mdmark  mdmark:MDSECTION  state:END_AUTO  param:Dependencies -->

### In Memory DB
<a href="#in-memory-db"></a>
<!-- dev.mdmark  mdmark:MDSECTION  state:BEG_AUTO  param:Imdb -->
`jkv` generated code creates the tables below.
All allocations are done through global `jkv::_db` [jkv.FDb](#jkv-fdb) structure
|Ctype|Ssimfile|Create|Access|
|---|---|---|---|
|[jkv.FDb](#jkv-fdb)||FDb._db (Global)|

#### jkv.FDb - 
<a href="#jkv-fdb"></a>

#### jkv.FDb Fields
<a href="#jkv-fdb-fields"></a>
|Field|[Type](/txt/ssimdb/dmmeta/ctype.md)|[Reftype](/txt/ssimdb/dmmeta/reftype.md)|Default|Comment|
|---|---|---|---|---|
|jkv.FDb._db|[jkv.FDb](/txt/exe/jkv/internals.md#jkv-fdb)|[Global](/txt/exe/amc/reftypes.md#global)|||
|jkv.FDb.cmdline|[command.jkv](/txt/protocol/command/README.md#command-jkv)|[Val](/txt/exe/amc/reftypes.md#val)|||
|jkv.FDb.last_kv|[algo.cstring](/txt/protocol/algo/cstring.md)|[Val](/txt/exe/amc/reftypes.md#val)|||

#### Struct FDb
<a href="#struct-fdb"></a>
Generated by [amc](/txt/exe/amc/README.md) into [include/gen/jkv_gen.h](/include/gen/jkv_gen.h)
```
struct FDb { // jkv.FDb
    command::jkv    cmdline;   //
    algo::cstring   last_kv;   //
    jkv::trace      trace;     //
};
```

<!-- dev.mdmark  mdmark:MDSECTION  state:END_AUTO  param:Imdb -->

### Tests
<a href="#tests"></a>
<!-- dev.mdmark  mdmark:MDSECTION  state:BEG_AUTO  param:Tests -->
The following component tests are defined for `jkv`.
These can be executed with `atf_comp <comptest> -v`
|Comptest|Comment|
|---|---|
|[jkv.ArrayFill](/test/atf_comp/jkv.ArrayFill)||
|[jkv.ReverseSmoke](/test/atf_comp/jkv.ReverseSmoke)||
|[jkv.Smoke](/test/atf_comp/jkv.Smoke)||

<!-- dev.mdmark  mdmark:MDSECTION  state:END_AUTO  param:Tests -->

