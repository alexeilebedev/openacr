## atf_fuzz - Internals


### Table Of Contents
<a href="#table-of-contents"></a>
<!-- dev.mdmark  mdmark:MDSECTION  state:BEG_AUTO  param:Toc -->
* [Description](#description)
* [Sources](#sources)
* [Dependencies](#dependencies)
* [In Memory DB](#in-memory-db)

<!-- dev.mdmark  mdmark:MDSECTION  state:END_AUTO  param:Toc -->

### Description
<a href="#description"></a>
<!-- dev.mdmark  mdmark:MDSECTION  state:BEG_AUTO  param:Description -->
for usage, see [atf_fuzz - Generator of bad inputs for targets](/txt/exe/atf_fuzz/README.md)

<!-- dev.mdmark  mdmark:MDSECTION  state:END_AUTO  param:Description -->

### Sources
<a href="#sources"></a>
<!-- dev.mdmark  mdmark:MDSECTION  state:BEG_AUTO  param:Sources -->
The source code license is GPL
The following source files are part of this tool:

|Source File|Comment|
|---|---|
|[cpp/atf_fuzz/atf_fuzz.cpp](/cpp/atf_fuzz/atf_fuzz.cpp)||
|[cpp/gen/atf_fuzz_gen.cpp](/cpp/gen/atf_fuzz_gen.cpp)||
|[include/atf_fuzz.h](/include/atf_fuzz.h)||
|[include/gen/atf_fuzz_gen.h](/include/gen/atf_fuzz_gen.h)||
|[include/gen/atf_fuzz_gen.inl.h](/include/gen/atf_fuzz_gen.inl.h)||

<!-- dev.mdmark  mdmark:MDSECTION  state:END_AUTO  param:Sources -->

### Dependencies
<a href="#dependencies"></a>
<!-- dev.mdmark  mdmark:MDSECTION  state:BEG_AUTO  param:Dependencies -->
The build target depends on the following libraries
|Target|Comment|
|---|---|
|[algo_lib](/txt/lib/algo_lib/README.md)|Support library for all executables|
|[lib_prot](/txt/lib/lib_prot/README.md)|Library covering all protocols|

<!-- dev.mdmark  mdmark:MDSECTION  state:END_AUTO  param:Dependencies -->

### In Memory DB
<a href="#in-memory-db"></a>
<!-- dev.mdmark  mdmark:MDSECTION  state:BEG_AUTO  param:Imdb -->
`atf_fuzz` generated code creates the tables below.
All allocations are done through global `atf_fuzz::_db` [atf_fuzz.FDb](#atf_fuzz-fdb) structure
|Ctype|Ssimfile|Create|Access|
|---|---|---|---|
|[atf_fuzz.FDb](#atf_fuzz-fdb)||FDb._db (Global)|
|[atf_fuzz.FFuzzstrat](#atf_fuzz-ffuzzstrat)|[atfdb.fuzzstrat](/txt/ssimdb/atfdb/fuzzstrat.md)|FDb.fuzzstrat (Lary)|**static**|fuzzstrat (Lary, by rowid)|
|[atf_fuzz.FTarget](#atf_fuzz-ftarget)|[dev.target](/txt/ssimdb/dev/target.md)|FDb.target (Lary)|target (Lary, by rowid)|ind_target (Thash, hash field target)|c_target (Ptr)|

#### atf_fuzz.FDb - In-memory database for atf_fuzz
<a href="#atf_fuzz-fdb"></a>

#### atf_fuzz.FDb Fields
<a href="#atf_fuzz-fdb-fields"></a>
|Field|[Type](/txt/ssimdb/dmmeta/ctype.md)|[Reftype](/txt/ssimdb/dmmeta/reftype.md)|Default|Comment|
|---|---|---|---|---|
|atf_fuzz.FDb._db|[atf_fuzz.FDb](/txt/exe/atf_fuzz/internals.md#atf_fuzz-fdb)|[Global](/txt/exe/amc/reftypes.md#global)|||
|atf_fuzz.FDb.cmdline|[command.atf_fuzz](/txt/protocol/command/README.md#command-atf_fuzz)|[Val](/txt/exe/amc/reftypes.md#val)|||
|atf_fuzz.FDb.fuzzstrat|[atf_fuzz.FFuzzstrat](/txt/exe/atf_fuzz/internals.md#atf_fuzz-ffuzzstrat)|[Lary](/txt/exe/amc/reftypes.md#lary)|||
|atf_fuzz.FDb.target|[atf_fuzz.FTarget](/txt/exe/atf_fuzz/internals.md#atf_fuzz-ftarget)|[Lary](/txt/exe/amc/reftypes.md#lary)|||
|atf_fuzz.FDb.ind_target|[atf_fuzz.FTarget](/txt/exe/atf_fuzz/internals.md#atf_fuzz-ftarget)|[Thash](/txt/exe/amc/reftypes.md#thash)|||
|atf_fuzz.FDb.c_target|[atf_fuzz.FTarget](/txt/exe/atf_fuzz/internals.md#atf_fuzz-ftarget)|[Ptr](/txt/exe/amc/reftypes.md#ptr)|||

#### Struct FDb
<a href="#struct-fdb"></a>
Generated by [amc](/txt/exe/amc/README.md) into [include/gen/atf_fuzz_gen.h](/include/gen/atf_fuzz_gen.h)
```
struct FDb { // atf_fuzz.FDb: In-memory database for atf_fuzz
    command::atf_fuzz       cmdline;                    //
    atf_fuzz::FFuzzstrat*   fuzzstrat_lary[32];         // level array
    i32                     fuzzstrat_n;                // number of elements in array
    atf_fuzz::FTarget*      target_lary[32];            // level array
    i32                     target_n;                   // number of elements in array
    atf_fuzz::FTarget**     ind_target_buckets_elems;   // pointer to bucket array
    i32                     ind_target_buckets_n;       // number of elements in bucket array
    i32                     ind_target_n;               // number of elements in the hash table
    atf_fuzz::FTarget*      c_target;                   // optional pointer
    atf_fuzz::trace         trace;                      //
};
```

#### atf_fuzz.FFuzzstrat - 
<a href="#atf_fuzz-ffuzzstrat"></a>

#### atf_fuzz.FFuzzstrat Fields
<a href="#atf_fuzz-ffuzzstrat-fields"></a>
|Field|[Type](/txt/ssimdb/dmmeta/ctype.md)|[Reftype](/txt/ssimdb/dmmeta/reftype.md)|Default|Comment|
|---|---|---|---|---|
|atf_fuzz.FFuzzstrat.base|[atfdb.Fuzzstrat](/txt/ssimdb/atfdb/fuzzstrat.md)|[Base](/txt/ssimdb/atfdb/fuzzstrat.md)|||
|atf_fuzz.FFuzzstrat.step||[Hook](/txt/exe/amc/reftypes.md#hook)|||

#### Struct FFuzzstrat
<a href="#struct-ffuzzstrat"></a>
*Note:* field ``atf_fuzz.FFuzzstrat.base`` has reftype ``base`` so the fields of [atfdb.Fuzzstrat](/txt/ssimdb/atfdb/fuzzstrat.md) above are included into the resulting struct.

Generated by [amc](/txt/exe/amc/README.md) into [include/gen/atf_fuzz_gen.h](/include/gen/atf_fuzz_gen.h)
```
struct FFuzzstrat { // atf_fuzz.FFuzzstrat
    algo::Smallstr50                fuzzstrat;   //
    algo::Comment                   comment;     //
    atf_fuzz::fuzzstrat_step_hook   step;        //   NULL  Pointer to a function
private:
    // func:atf_fuzz.FFuzzstrat..Ctor
    inline               FFuzzstrat() __attribute__((nothrow));
    friend atf_fuzz::FFuzzstrat& fuzzstrat_Alloc() __attribute__((__warn_unused_result__, nothrow));
    friend atf_fuzz::FFuzzstrat* fuzzstrat_AllocMaybe() __attribute__((__warn_unused_result__, nothrow));
    friend void                 fuzzstrat_RemoveAll() __attribute__((nothrow));
    friend void                 fuzzstrat_RemoveLast() __attribute__((nothrow));
};
```

#### atf_fuzz.FTarget - Build target
<a href="#atf_fuzz-ftarget"></a>

#### atf_fuzz.FTarget Fields
<a href="#atf_fuzz-ftarget-fields"></a>
|Field|[Type](/txt/ssimdb/dmmeta/ctype.md)|[Reftype](/txt/ssimdb/dmmeta/reftype.md)|Default|Comment|
|---|---|---|---|---|
|atf_fuzz.FTarget.base|[dev.Target](/txt/ssimdb/dev/target.md)|[Base](/txt/ssimdb/dev/target.md)|||

#### Struct FTarget
<a href="#struct-ftarget"></a>
*Note:* field ``atf_fuzz.FTarget.base`` has reftype ``base`` so the fields of [dev.Target](/txt/ssimdb/dev/target.md) above are included into the resulting struct.

Generated by [amc](/txt/exe/amc/README.md) into [include/gen/atf_fuzz_gen.h](/include/gen/atf_fuzz_gen.h)
```
struct FTarget { // atf_fuzz.FTarget
    atf_fuzz::FTarget*   ind_target_next;   // hash next
    algo::Smallstr16     target;            // Primary key - name of target
    // func:atf_fuzz.FTarget..AssignOp
    inline atf_fuzz::FTarget& operator =(const atf_fuzz::FTarget &rhs) = delete;
    // func:atf_fuzz.FTarget..CopyCtor
    inline               FTarget(const atf_fuzz::FTarget &rhs) = delete;
private:
    // func:atf_fuzz.FTarget..Ctor
    inline               FTarget() __attribute__((nothrow));
    // func:atf_fuzz.FTarget..Dtor
    inline               ~FTarget() __attribute__((nothrow));
    friend atf_fuzz::FTarget&   target_Alloc() __attribute__((__warn_unused_result__, nothrow));
    friend atf_fuzz::FTarget*   target_AllocMaybe() __attribute__((__warn_unused_result__, nothrow));
    friend void                 target_RemoveAll() __attribute__((nothrow));
    friend void                 target_RemoveLast() __attribute__((nothrow));
};
```

<!-- dev.mdmark  mdmark:MDSECTION  state:END_AUTO  param:Imdb -->

