## src_lim - Internals


### Table Of Contents
<a href="#table-of-contents"></a>
<!-- dev.mdmark  mdmark:MDSECTION  state:BEG_AUTO  param:Toc -->
* [Description](#description)
* [Sources](#sources)
* [Dependencies](#dependencies)
* [In Memory DB](#in-memory-db)

<!-- dev.mdmark  mdmark:MDSECTION  state:END_AUTO  param:Toc -->

### Description
<a href="#description"></a>
<!-- dev.mdmark  mdmark:MDSECTION  state:BEG_AUTO  param:Description -->
for usage, see [src_lim - Enforce line length, function length, and indentation limits](/txt/exe/src_lim/README.md)

<!-- dev.mdmark  mdmark:MDSECTION  state:END_AUTO  param:Description -->

### Sources
<a href="#sources"></a>
<!-- dev.mdmark  mdmark:MDSECTION  state:BEG_AUTO  param:Sources -->
The source code license is GPL
The following source files are part of this tool:

|Source File|Comment|
|---|---|
|[cpp/gen/src_lim_gen.cpp](/cpp/gen/src_lim_gen.cpp)||
|[cpp/src_lim/lim.cpp](/cpp/src_lim/lim.cpp)||
|[include/gen/src_lim_gen.h](/include/gen/src_lim_gen.h)||
|[include/gen/src_lim_gen.inl.h](/include/gen/src_lim_gen.inl.h)||

<!-- dev.mdmark  mdmark:MDSECTION  state:END_AUTO  param:Sources -->

### Dependencies
<a href="#dependencies"></a>
<!-- dev.mdmark  mdmark:MDSECTION  state:BEG_AUTO  param:Dependencies -->
The build target depends on the following libraries
|Target|Comment|
|---|---|
|[algo_lib](/txt/lib/algo_lib/README.md)|Support library for all executables|

<!-- dev.mdmark  mdmark:MDSECTION  state:END_AUTO  param:Dependencies -->

### In Memory DB
<a href="#in-memory-db"></a>
<!-- dev.mdmark  mdmark:MDSECTION  state:BEG_AUTO  param:Imdb -->
`src_lim` generated code creates the tables below.
All allocations are done through global `src_lim::_db` [src_lim.FDb](#src_lim-fdb) structure
|Ctype|Ssimfile|Create|Access|
|---|---|---|---|
|[src_lim.FBadline](#src_lim-fbadline)|[dev.badline](/txt/ssimdb/dev/badline.md)|FDb.badline (Lary)|badline (Lary, by rowid)|
|[src_lim.FDb](#src_lim-fdb)||FDb._db (Global)|
|[src_lim.FGitfile](#src_lim-fgitfile)|[dev.gitfile](/txt/ssimdb/dev/gitfile.md)|FDb.gitfile (Lary)|gitfile (Lary, by rowid)|ind_gitfile (Thash, hash field gitfile)|
||||FTargsrc.p_gitfile (Upptr)|
|[src_lim.FInclude](#src_lim-finclude)|[dev.include](/txt/ssimdb/dev/include.md)|FDb.include (Lary)|include (Lary, by rowid)|
||||FGitfile.zd_include (Llist)|
|[src_lim.FLinelim](#src_lim-flinelim)|[dev.linelim](/txt/ssimdb/dev/linelim.md)|FDb.linelim (Lary)|linelim (Lary, by rowid)|
||||FGitfile.c_linelim (Ptr)|
|[src_lim.FTargsrc](#src_lim-ftargsrc)|[dev.targsrc](/txt/ssimdb/dev/targsrc.md)|FDb.targsrc (Lary)|targsrc (Lary, by rowid)|
||||FGitfile.c_targsrc (Ptr)|

#### src_lim.FBadline - Regex of a dubious source code line
<a href="#src_lim-fbadline"></a>

#### src_lim.FBadline Fields
<a href="#src_lim-fbadline-fields"></a>
|Field|[Type](/txt/ssimdb/dmmeta/ctype.md)|[Reftype](/txt/ssimdb/dmmeta/reftype.md)|Default|Comment|
|---|---|---|---|---|
|src_lim.FBadline.base|[dev.Badline](/txt/ssimdb/dev/badline.md)|[Base](/txt/ssimdb/dev/badline.md)|||
|src_lim.FBadline.regx|[algo_lib.Regx](/txt/lib/algo_lib/README.md#algo_lib-regx)|[Val](/txt/exe/amc/reftypes.md#val)|||
|src_lim.FBadline._targsrc_regx|[algo_lib.Regx](/txt/lib/algo_lib/README.md#algo_lib-regx)|[Val](/txt/exe/amc/reftypes.md#val)|||
|src_lim.FBadline.select|bool|[Val](/txt/exe/amc/reftypes.md#val)|||

#### Struct FBadline
<a href="#struct-fbadline"></a>
*Note:* field ``src_lim.FBadline.base`` has reftype ``base`` so the fields of [dev.Badline](/txt/ssimdb/dev/badline.md) above are included into the resulting struct.

Generated by [amc](/txt/exe/amc/README.md) into [include/gen/src_lim_gen.h](/include/gen/src_lim_gen.h)
```
struct FBadline { // src_lim.FBadline
    algo::Smallstr50    badline;         //
    algo::Smallstr200   expr;            //
    algo::Smallstr50    targsrc_regx;    //
    algo::Comment       comment;         //
    algo_lib::Regx      regx;            //
    algo_lib::Regx      _targsrc_regx;   //
    bool                select;          //   false
private:
    // func:src_lim.FBadline..Ctor
    inline               FBadline() __attribute__((nothrow));
    friend src_lim::FBadline&   badline_Alloc() __attribute__((__warn_unused_result__, nothrow));
    friend src_lim::FBadline*   badline_AllocMaybe() __attribute__((__warn_unused_result__, nothrow));
    friend void                 badline_RemoveAll() __attribute__((nothrow));
    friend void                 badline_RemoveLast() __attribute__((nothrow));
};
```

#### src_lim.FDb - In-memory database for src_lim
<a href="#src_lim-fdb"></a>

#### src_lim.FDb Fields
<a href="#src_lim-fdb-fields"></a>
|Field|[Type](/txt/ssimdb/dmmeta/ctype.md)|[Reftype](/txt/ssimdb/dmmeta/reftype.md)|Default|Comment|
|---|---|---|---|---|
|src_lim.FDb.include|[src_lim.FInclude](/txt/exe/src_lim/internals.md#src_lim-finclude)|[Lary](/txt/exe/amc/reftypes.md#lary)|||
|src_lim.FDb.linelim|[src_lim.FLinelim](/txt/exe/src_lim/internals.md#src_lim-flinelim)|[Lary](/txt/exe/amc/reftypes.md#lary)|||
|src_lim.FDb._db|[src_lim.FDb](/txt/exe/src_lim/internals.md#src_lim-fdb)|[Global](/txt/exe/amc/reftypes.md#global)|||
|src_lim.FDb.cmdline|[command.src_lim](/txt/protocol/command/README.md#command-src_lim)|[Val](/txt/exe/amc/reftypes.md#val)|||
|src_lim.FDb.targsrc|[src_lim.FTargsrc](/txt/exe/src_lim/internals.md#src_lim-ftargsrc)|[Lary](/txt/exe/amc/reftypes.md#lary)|||
|src_lim.FDb.gitfile|[src_lim.FGitfile](/txt/exe/src_lim/internals.md#src_lim-fgitfile)|[Lary](/txt/exe/amc/reftypes.md#lary)|||
|src_lim.FDb.ind_gitfile|[src_lim.FGitfile](/txt/exe/src_lim/internals.md#src_lim-fgitfile)|[Thash](/txt/exe/amc/reftypes.md#thash)|||
|src_lim.FDb.outtext|[algo.cstring](/txt/protocol/algo/cstring.md)|[Val](/txt/exe/amc/reftypes.md#val)|||
|src_lim.FDb.badline|[src_lim.FBadline](/txt/exe/src_lim/internals.md#src_lim-fbadline)|[Lary](/txt/exe/amc/reftypes.md#lary)|||

#### Struct FDb
<a href="#struct-fdb"></a>
Generated by [amc](/txt/exe/amc/README.md) into [include/gen/src_lim_gen.h](/include/gen/src_lim_gen.h)
```
struct FDb { // src_lim.FDb: In-memory database for src_lim
    src_lim::FInclude*    include_lary[32];            // level array
    i32                   include_n;                   // number of elements in array
    src_lim::FLinelim*    linelim_lary[32];            // level array
    i32                   linelim_n;                   // number of elements in array
    command::src_lim      cmdline;                     //
    src_lim::FTargsrc*    targsrc_lary[32];            // level array
    i32                   targsrc_n;                   // number of elements in array
    src_lim::FGitfile*    gitfile_lary[32];            // level array
    i32                   gitfile_n;                   // number of elements in array
    src_lim::FGitfile**   ind_gitfile_buckets_elems;   // pointer to bucket array
    i32                   ind_gitfile_buckets_n;       // number of elements in bucket array
    i32                   ind_gitfile_n;               // number of elements in the hash table
    algo::cstring         outtext;                     //
    src_lim::FBadline*    badline_lary[32];            // level array
    i32                   badline_n;                   // number of elements in array
    src_lim::trace        trace;                       //
};
```

#### src_lim.FGitfile - File managed by git
<a href="#src_lim-fgitfile"></a>

#### src_lim.FGitfile Fields
<a href="#src_lim-fgitfile-fields"></a>
|Field|[Type](/txt/ssimdb/dmmeta/ctype.md)|[Reftype](/txt/ssimdb/dmmeta/reftype.md)|Default|Comment|
|---|---|---|---|---|
|src_lim.FGitfile.base|[dev.Gitfile](/txt/ssimdb/dev/gitfile.md)|[Base](/txt/ssimdb/dev/gitfile.md)|||
|src_lim.FGitfile.zd_include|[src_lim.FInclude](/txt/exe/src_lim/internals.md#src_lim-finclude)|[Llist](/txt/exe/amc/reftypes.md#llist)|||
|src_lim.FGitfile.c_linelim|[src_lim.FLinelim](/txt/exe/src_lim/internals.md#src_lim-flinelim)|[Ptr](/txt/exe/amc/reftypes.md#ptr)|||
|src_lim.FGitfile.c_targsrc|[src_lim.FTargsrc](/txt/exe/src_lim/internals.md#src_lim-ftargsrc)|[Ptr](/txt/exe/amc/reftypes.md#ptr)|||

#### Struct FGitfile
<a href="#struct-fgitfile"></a>
*Note:* field ``src_lim.FGitfile.base`` has reftype ``base`` so the fields of [dev.Gitfile](/txt/ssimdb/dev/gitfile.md) above are included into the resulting struct.

Generated by [amc](/txt/exe/amc/README.md) into [include/gen/src_lim_gen.h](/include/gen/src_lim_gen.h)
```
struct FGitfile { // src_lim.FGitfile
    src_lim::FGitfile*   ind_gitfile_next;      // hash next
    u32                  ind_gitfile_hashval;   // hash value
    algo::Smallstr200    gitfile;               //
    src_lim::FInclude*   zd_include_head;       // zero-terminated doubly linked list
    i32                  zd_include_n;          // zero-terminated doubly linked list
    src_lim::FInclude*   zd_include_tail;       // pointer to last element
    src_lim::FLinelim*   c_linelim;             // optional pointer
    src_lim::FTargsrc*   c_targsrc;             // optional pointer
    // reftype Llist of src_lim.FGitfile.zd_include prohibits copy
    // x-reference on src_lim.FGitfile.c_linelim prevents copy
    // x-reference on src_lim.FGitfile.c_targsrc prevents copy
    // func:src_lim.FGitfile..AssignOp
    inline src_lim::FGitfile& operator =(const src_lim::FGitfile &rhs) = delete;
    // reftype Llist of src_lim.FGitfile.zd_include prohibits copy
    // x-reference on src_lim.FGitfile.c_linelim prevents copy
    // x-reference on src_lim.FGitfile.c_targsrc prevents copy
    // func:src_lim.FGitfile..CopyCtor
    inline               FGitfile(const src_lim::FGitfile &rhs) = delete;
private:
    // func:src_lim.FGitfile..Ctor
    inline               FGitfile() __attribute__((nothrow));
    // func:src_lim.FGitfile..Dtor
    inline               ~FGitfile() __attribute__((nothrow));
    friend src_lim::FGitfile&   gitfile_Alloc() __attribute__((__warn_unused_result__, nothrow));
    friend src_lim::FGitfile*   gitfile_AllocMaybe() __attribute__((__warn_unused_result__, nothrow));
    friend void                 gitfile_RemoveLast() __attribute__((nothrow));
};
```

#### src_lim.FInclude - A site where one file includes another
<a href="#src_lim-finclude"></a>

#### src_lim.FInclude Fields
<a href="#src_lim-finclude-fields"></a>
|Field|[Type](/txt/ssimdb/dmmeta/ctype.md)|[Reftype](/txt/ssimdb/dmmeta/reftype.md)|Default|Comment|
|---|---|---|---|---|
|src_lim.FInclude.base|[dev.Include](/txt/ssimdb/dev/include.md)|[Base](/txt/ssimdb/dev/include.md)|||

#### Struct FInclude
<a href="#struct-finclude"></a>
*Note:* field ``src_lim.FInclude.base`` has reftype ``base`` so the fields of [dev.Include](/txt/ssimdb/dev/include.md) above are included into the resulting struct.

Generated by [amc](/txt/exe/amc/README.md) into [include/gen/src_lim_gen.h](/include/gen/src_lim_gen.h)
```
struct FInclude { // src_lim.FInclude
    src_lim::FInclude*   gitfile_zd_include_next;   // zslist link; -1 means not-in-list
    src_lim::FInclude*   gitfile_zd_include_prev;   // previous element
    algo::Smallstr200    include;                   //
    bool                 sys;                       //   false
    algo::Comment        comment;                   //
    // func:src_lim.FInclude..AssignOp
    inline src_lim::FInclude& operator =(const src_lim::FInclude &rhs) = delete;
    // func:src_lim.FInclude..CopyCtor
    inline               FInclude(const src_lim::FInclude &rhs) = delete;
private:
    // func:src_lim.FInclude..Ctor
    inline               FInclude() __attribute__((nothrow));
    // func:src_lim.FInclude..Dtor
    inline               ~FInclude() __attribute__((nothrow));
    friend src_lim::FInclude&   include_Alloc() __attribute__((__warn_unused_result__, nothrow));
    friend src_lim::FInclude*   include_AllocMaybe() __attribute__((__warn_unused_result__, nothrow));
    friend void                 include_RemoveLast() __attribute__((nothrow));
};
```

#### src_lim.FLinelim - 
<a href="#src_lim-flinelim"></a>

#### src_lim.FLinelim Fields
<a href="#src_lim-flinelim-fields"></a>
|Field|[Type](/txt/ssimdb/dmmeta/ctype.md)|[Reftype](/txt/ssimdb/dmmeta/reftype.md)|Default|Comment|
|---|---|---|---|---|
|src_lim.FLinelim.base|[dev.Linelim](/txt/ssimdb/dev/linelim.md)|[Base](/txt/ssimdb/dev/linelim.md)|||

#### Struct FLinelim
<a href="#struct-flinelim"></a>
*Note:* field ``src_lim.FLinelim.base`` has reftype ``base`` so the fields of [dev.Linelim](/txt/ssimdb/dev/linelim.md) above are included into the resulting struct.

Generated by [amc](/txt/exe/amc/README.md) into [include/gen/src_lim_gen.h](/include/gen/src_lim_gen.h)
```
struct FLinelim { // src_lim.FLinelim
    algo::Smallstr200   gitfile;        //
    u32                 nlongline;      //   0
    u32                 longestline;    //   0
    u32                 nbadws;         //   0
    u32                 maxws;          //   0
    u32                 nlongfunc;      //   0
    u32                 longestfunc;    //   0
    u32                 nmysteryfunc;   //   0
    algo::Smallstr50    badness;        //
    // func:src_lim.FLinelim..AssignOp
    src_lim::FLinelim&   operator =(const src_lim::FLinelim &rhs) = delete;
    // func:src_lim.FLinelim..CopyCtor
    FLinelim(const src_lim::FLinelim &rhs) = delete;
private:
    // func:src_lim.FLinelim..Ctor
    inline               FLinelim() __attribute__((nothrow));
    // func:src_lim.FLinelim..Dtor
    inline               ~FLinelim() __attribute__((nothrow));
    friend src_lim::FLinelim&   linelim_Alloc() __attribute__((__warn_unused_result__, nothrow));
    friend src_lim::FLinelim*   linelim_AllocMaybe() __attribute__((__warn_unused_result__, nothrow));
    friend void                 linelim_RemoveLast() __attribute__((nothrow));
};
```

#### src_lim.FTargsrc - List of sources for target
<a href="#src_lim-ftargsrc"></a>

#### src_lim.FTargsrc Fields
<a href="#src_lim-ftargsrc-fields"></a>
|Field|[Type](/txt/ssimdb/dmmeta/ctype.md)|[Reftype](/txt/ssimdb/dmmeta/reftype.md)|Default|Comment|
|---|---|---|---|---|
|src_lim.FTargsrc.base|[dev.Targsrc](/txt/ssimdb/dev/targsrc.md)|[Base](/txt/ssimdb/dev/targsrc.md)|||
|src_lim.FTargsrc.p_gitfile|[src_lim.FGitfile](/txt/exe/src_lim/internals.md#src_lim-fgitfile)|[Upptr](/txt/exe/amc/reftypes.md#upptr)|||
|src_lim.FTargsrc.select|bool|[Val](/txt/exe/amc/reftypes.md#val)|||

#### Struct FTargsrc
<a href="#struct-ftargsrc"></a>
*Note:* field ``src_lim.FTargsrc.base`` has reftype ``base`` so the fields of [dev.Targsrc](/txt/ssimdb/dev/targsrc.md) above are included into the resulting struct.

Generated by [amc](/txt/exe/amc/README.md) into [include/gen/src_lim_gen.h](/include/gen/src_lim_gen.h)
```
struct FTargsrc { // src_lim.FTargsrc
    algo::Smallstr100    targsrc;     //
    algo::Comment        comment;     //
    src_lim::FGitfile*   p_gitfile;   // reference to parent row
    bool                 select;      //   false
    // x-reference on src_lim.FTargsrc.p_gitfile prevents copy
    // func:src_lim.FTargsrc..AssignOp
    inline src_lim::FTargsrc& operator =(const src_lim::FTargsrc &rhs) = delete;
    // x-reference on src_lim.FTargsrc.p_gitfile prevents copy
    // func:src_lim.FTargsrc..CopyCtor
    inline               FTargsrc(const src_lim::FTargsrc &rhs) = delete;
private:
    // func:src_lim.FTargsrc..Ctor
    inline               FTargsrc() __attribute__((nothrow));
    // func:src_lim.FTargsrc..Dtor
    inline               ~FTargsrc() __attribute__((nothrow));
    friend src_lim::FTargsrc&   targsrc_Alloc() __attribute__((__warn_unused_result__, nothrow));
    friend src_lim::FTargsrc*   targsrc_AllocMaybe() __attribute__((__warn_unused_result__, nothrow));
    friend void                 targsrc_RemoveLast() __attribute__((nothrow));
};
```

<!-- dev.mdmark  mdmark:MDSECTION  state:END_AUTO  param:Imdb -->

